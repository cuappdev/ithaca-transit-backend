language: node_js
services:
- docker
node_js:
- 10.9.0
cache:
  directories:
  - ".autoconf"
  - "$HOME/.m2"
  - "$HOME/.cache"
  - graphhopper
  - map-matching
  - graph-cache
  - osrm
  - tcat-ny-us
  - node_modules
  - cache
install:
- npm install
- docker-compose -f docker-compose/docker-compose.yml up -d
script:
- npm run travis
env:
  global:
    - secure: pQPdgum3xN7pHmiFXQVAXAgBw1yahxeL31sa2pf+j7OszL0mWQxvTiWNBon3DnWdka075qqdRpTodY13TKVoO/oh26uD9MJEeVyUkj0ZXYYJGlQS4jbuqer0wCyFJgLh9+N72M17sV7FREe1VFbl/lqEFiUqlHJRe24/Tl4jTDie1VnrjAkHUn7o71xScpTCtFQM5EAH1AGN0dXISYTyGEgKanVuFOZsejxLmh9P3/nmAF4YbIdjs24ljuFP+b6KZT0uTIxIjwVW+BRkPrkRO4UpAxrlHSdIt0gvi0D4fyZNKiqMWbSZGyiALrZFpjny4e3dTbmVV7vC2YiHXP1UzwO4uXh85iwPenyllZY6+XJNLXvFl9h8IDNPbbgOBbHDCOEidIK24/j/iHWKHqX4z3uz225Wcqm0ESE8LIcYgp21vQSn1n63z4WOTkoh7caw/7FBGRx8BD+B4L8cJ8eX5TPFyguhqsdWCswEVRrAgbZ9+U80qKpzbw8ysxZCWo22QCSxZJDymFNOw+qiCPNagM3TjKpj8GQTzXrb8SwREGnKiWDbVmQASd0CKoWWgHXdr03oMmxPRcrvCsGpg498tVF+5YUzdvzwkwZw674cyre6rXdyRDMB3obRmr1+pvZkUsFMM1XUZrI8P8chyHdBYHBIB/N3zTxoYN4isT0TKJA=
    - PORT=3000
    - REGISTER_TOKEN=REGISTER_TOKEN
    - GHOPPER_BUS=localhost
    - GHOPPER_WALKING=localhost
    - MAP_MATCHING=localhost
    - PLACES_KEY=PLACES_KEY
